(self["webpackChunkcompany"]=self["webpackChunkcompany"]||[]).push([[324],{623:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var l=function(){var e=this,t=e._self._c;return t(e.loadIcon,{tag:"component"})},a=[];const s={props:{name:{type:String,required:!0}},computed:{loadIcon(){return()=>r(104)(`./${this.name}.vue`)}}},o=s;var i=r(1),n=(0,i.Z)(o,l,a,!1,null,"45680718",null);const c=n.exports},324:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>U});var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"data-page"},[t("div",{staticClass:"data-page__row"},[t("div",{staticClass:"data-page__filter"},[t("AppFilter",{attrs:{initialFilters:e.filters,"select-options":e.selectFilterOptions},on:{"clear-filter":e.clearFilter,"update:filters":e.updateFilters}})],1),t("div",{staticClass:"data-page__data"},[t("div",{staticClass:"data-page__sort sort"},[t("div",{staticClass:"sort__select"},[t("BaseSelect",{attrs:{active:e.sortNumber,options:e.selectSortOptions,type:"sort-select"},on:{"update:select":e.updateSortNumber}})],1),t("div",{staticClass:"table-type"},[t("AppToggle",{model:{value:e.typeTable,callback:function(t){e.typeTable=t},expression:"typeTable"}})],1)]),t("AppTable",{attrs:{type:e.typeTable,columns:e.filteredColumns}})],1)])])},a=[],s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-table"},[t(e.currentTable,{tag:"component",attrs:{rows:e.rows,columns:e.columns},on:{"delete-item":e.onDeleteItem}})],1)},o=[];const i={row:"TableDefault",col:"TableCard"},n={components:{TableDefault:()=>r.e(381).then(r.bind(r,381)),TableCard:()=>r.e(299).then(r.bind(r,299))},provide(){return{activeButtons:this.activeButtons}},props:{type:{type:String,default:"row"},rows:{type:Array,default:()=>[{text:"ID",value:0},{text:"Номер накладной",value:1},{text:"Тип заказа",value:2},{text:"Дата создания",value:3},{text:"",value:4}]},columns:{type:Array,required:!0}},data(){return{activeButtons:{active:null,count:0}}},computed:{currentTable(){return i[this.type]}},methods:{onDeleteItem(e){this.$store.commit("deleteItem",e.id)}}},c=n;var u=r(1),p=(0,u.Z)(c,s,o,!1,null,"87c77fd8",null);const d=p.exports;var v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"filter"},[e._m(0),t("div",{staticClass:"filter__controls"},[t("div",{staticClass:"filter__group"},[t("label",{attrs:{for:"number"}},[e._v(" Номер накладной: ")]),t("BaseInput",{attrs:{placeholder:"Введите фрагмент"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),t("div",{staticClass:"filter__group"},[t("label",{attrs:{for:"type-order"}},[e._v(" Тип заказа: ")]),t("BaseSelect",{attrs:{id:"type-order",active:e.select,options:e.selectOptions,type:"filter-select"},on:{"update:select":e.setSelect}})],1)]),e.activeFilter?t("div",{staticClass:"filter__clear"},[t("button",{on:{click:function(t){return e.$emit("clear-filter")}}},[e._v("Очистить фильтр")])]):e._e()])},f=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"filter__header"},[t("h3",{staticClass:"filter__title"},[e._v("Фильтр")])])}],m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"custom-select",class:[e.type,{active:e.active.value}],attrs:{tabindex:e.tabindex},on:{blur:function(t){e.open=!1}}},[t("div",{staticClass:"selected",class:{open:e.open},on:{click:function(t){e.open=!e.open}}},[e._v(" "+e._s(e.selected?.text)+" "),t("AppIcon",{attrs:{name:"IconArrowDown"}})],1),t("div",{staticClass:"items",class:{selectHide:!e.open}},e._l(e.options,(function(r,l){return t("div",{key:l,on:{click:function(t){return e.setSelectValue(r)}}},[e._v(" "+e._s(r.text)+" "),r.icon?t("AppIcon",{attrs:{name:r.icon}}):e._e()],1)})),0)])},h=[],b=r(623);const y={components:{AppIcon:b.Z},props:{options:{type:Array,required:!0},active:{type:[Object,null],default:null},type:{type:String,required:!0,validator(e){return["sort-select","filter-select"].includes(e)}},tabindex:{type:Number,required:!1,default:0}},emits:["onClick"],data(){return{selected:this.active?this.active:this.options[0],open:!1}},watch:{active(e){this.selected=e}},methods:{setSelectValue(e){this.selected=e,this.open=!1,this.$emit("update:select",e)}}},_=y;var g=(0,u.Z)(_,m,h,!1,null,"2badc20f",null);const C=g.exports;var w=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-group"},[t("label",{attrs:{for:e.id}},[e._v(" "+e._s(e.labelText)+" ")]),t("input",{class:["form-control",e.color],attrs:{id:e.id,type:e.type,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),t("transition",{attrs:{name:"fade"}},[e.errors?t("small",[e._v(e._s(e.errors))]):e._e()])],1)},x=[];const T={props:{value:{type:[String,Number],default:""},type:{type:String,default:"text"},close:{type:Boolean,default:!1},id:{type:String,default:""},labelText:{type:String,default:null},placeholder:{type:String,default:""},color:{type:String,default:""},errors:{type:String,default:""}},emits:["input"]},S=T;var I=(0,u.Z)(S,w,x,!1,null,"461585be",null);const A=I.exports,N={components:{BaseSelect:C,BaseInput:A},props:{selectOptions:{type:Array,required:!0},initialFilters:{type:Object,default:()=>{}}},data(){return{filter:this.initialFilters.filterNumber,select:this.initialFilters.filterType||{text:"Выберите из списка",value:0}}},watch:{filterChanging(e){this.$emit("update:filters",e)},initialFilters(e){const{filterNumber:t,filterType:r}=e;this.filter=t,this.select=r,console.log(this.select,"SELECT")}},methods:{setSelect(e){this.select=e}},computed:{activeFilter(){return this.select.value||this.filter},filterChanging(){const{select:e,filter:t}=this;return{select:e,filter:t}}}},F=N;var k=(0,u.Z)(F,v,f,!1,null,"2608b9ba",null);const D=k.exports;var O=function(){var e=this,t=e._self._c;return t("div",{staticClass:"toggle"},[t("div",{staticClass:"form-group"},[t("input",{attrs:{id:"radio-1",type:"radio",value:"row",name:"toggle"},domProps:{checked:"row"===e.modelValue},on:{change:function(t){return e.$emit("change",t.target.value)}}}),t("label",{attrs:{for:"radio-1"}},[t("AppIcon",{attrs:{name:"IconTypeCol"}})],1)]),t("div",{staticClass:"form-group"},[t("input",{attrs:{id:"radio-2",type:"radio",value:"col",name:"toggle"},domProps:{checked:"col"===e.modelValue},on:{change:function(t){return e.$emit("change",t.target.value)}}}),t("label",{attrs:{for:"radio-2"}},[t("AppIcon",{attrs:{name:"IconTypeRow"}})],1)])])},B=[];const Z={components:{AppIcon:b.Z},model:{prop:"modelValue",event:"change"},props:{modelValue:{type:String,default:"row"}},emits:["change"],data(){return{}}},$=Z;var q=(0,u.Z)($,O,B,!1,null,"227f7235",null);const L=q.exports,V={components:{AppToggle:L,AppTable:d,AppFilter:D,BaseSelect:C},data(){return{typeTable:"row",selectFilterOptions:[{text:"Самовывоз",value:1},{text:"Курьерская доставка",value:2},{text:"Доставка в пункт выдачи",value:3}],selectSortOptions:[{text:"Номер накладной",value:"asc",icon:"IconArrowSortUp"},{text:"Номер накладной",value:"desc",icon:"IconArrowSortDown"}],filters:{filterNumber:"",filterType:{text:"Выберите из списка",value:0}},sortNumber:{text:"Сортировка",value:0}}},async created(){await this.$store.dispatch("getData")},methods:{updateFilters(e){this.filters={filterNumber:e.filter,filterType:e.select}},updateSortNumber(e){this.sortNumber=e},clearFilter(){this.filters={filterNumber:"",filterType:{text:"Выберите из списка",value:0}}}},computed:{filteredColumns(){let e=this.$store.state.data;const{filterNumber:t,filterType:r}=this.filters;return(r.value||t)&&(e=e.filter((e=>r.value&&t?e.type.value===r.value&&e.number.toLowerCase().includes(t.toLowerCase()):r.value?e.type.value===r.value:!t||e.number.toLowerCase().includes(t.toLowerCase())))),this.sortNumber.value&&(e=e.sort(((e,t)=>"asc"===this.sortNumber.value?(""+e.number).localeCompare(t.number):"desc"===this.sortNumber.value?(""+t.number).localeCompare(e.number):void 0))),e}}},E=V;var P=(0,u.Z)(E,l,a,!1,null,"69c89494",null);const U=P.exports},104:(e,t,r)=>{var l={"./IconArrowDown.vue":[138,138],"./IconArrowSortDown.vue":[170,170],"./IconArrowSortUp.vue":[813,813],"./IconDots.vue":[606,606],"./IconTrash.vue":[558,558],"./IconTypeCol.vue":[910,910],"./IconTypeRow.vue":[545,545]};function a(e){if(!r.o(l,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=l[e],a=t[0];return r.e(t[1]).then((()=>r(a)))}a.keys=()=>Object.keys(l),a.id=104,e.exports=a}}]);
//# sourceMappingURL=324.75a033a6.js.map